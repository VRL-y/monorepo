---
// Fundations
import BaseLayout from "@/layouts/BaseLayout.astro";
import Text from "@/components/fundations/elements/Text.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
// Icons
import FileDots from "@/components/fundations/icons/FileDots.astro";
// Content
const { frontmatter } = Astro.props;
---

<BaseLayout>
  <section>
    <Wrapper variant="standard" class="pt-32 pb-12">
      <div class="mx-auto max-w-xl">
        <Text
          tag="span"
          variant="textXS"
          class="text-base-600 flex items-center gap-2 font-medium uppercase"
        >
          <FileDots size="sm" class="text-yellow-600" />
          <span>
            <time
              datetime={new Date(frontmatter.pubDate).toLocaleDateString(
                "en-US",
                {
                  year: "numeric",
                  month: "long",
                },
              )}
            >
              {
                new Date(frontmatter.pubDate).toLocaleDateString("en-US", {
                  year: "numeric",
                  month: "long",
                })
              }</time
            ></span
          >
        </Text>

        <Text
          tag="h3"
          variant="displayMD"
          class="text-base-800 mt-8 font-semibold tracking-tight"
          >{frontmatter.page}</Text
        >
        <Text
          tag="p"
          variant="textBase"
          class="text-base-500 mt-2 text-base md:text-balance"
        >
          Contact us with any questions about these agreements.</Text
        >
      </div>
    </Wrapper>
    <Wrapper variant="standard" class="border-base-200 border-t py-12">
      <Wrapper variant="prose" class="prose-table-responsive mx-auto max-w-xl"
        ><slot /></Wrapper
      >
    </Wrapper>
  </section>
</BaseLayout>

<style>
  /* Make tables responsive with horizontal scrolling */
  .prose-table-responsive :global(table) {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
    max-width: 100%;
  }

  /* Ensure table cells don't wrap on mobile */
  .prose-table-responsive :global(td),
  .prose-table-responsive :global(th) {
    white-space: normal;
    min-width: 150px;
    padding: 0.5rem;
  }

  /* Add some visual indication of scrollability */
  .prose-table-responsive :global(table) {
    box-shadow: inset -2px 0 0 rgba(0, 0, 0, 0.1);
  }

  /* Improve table styling */
  .prose-table-responsive :global(table) {
    border-collapse: collapse;
    font-size: 0.875rem;
  }

  .prose-table-responsive :global(thead) {
    background-color: var(--color-base-100, #f3f4f6);
  }

  .prose-table-responsive :global(tr) {
    border-bottom: 1px solid var(--color-base-200, #e5e7eb);
  }

  /* Make the table container relative for potential scroll indicators */
  .prose-table-responsive {
    position: relative;
    overflow: hidden;
  }

  /* On larger screens, allow tables to be their natural width */
  @media (min-width: 1280px) {
    .prose-table-responsive :global(table) {
      display: table;
      overflow-x: visible;
    }
  }
</style>
