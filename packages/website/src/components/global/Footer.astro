---
// Assets
import Logo from "@/components/assets/Logo.astro";
// Fundations
import Text from "@/components/fundations/elements/Text.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
// Config
import { EXTERNAL_LINKS } from "@/config/external-links";

const links = [
  {
    title: "Services",
    links: [
      { label: "Praxis-Anfragen-Autopilot", href: "/leistungen" },
      { label: "Terminmanagement-KI", href: "/leistungen" },
      { label: "DSGVO-Compliance", href: "/leistungen" },
      { label: "Workflow-Automatisierung", href: "/leistungen" },
      { label: "PVS-Integration", href: "/leistungen" },
    ],
  },
  {
    title: "Unternehmen",
    links: [
      { label: "√úber VRLY", href: "/ueber-uns" },
      { label: "Unser Ansatz", href: "/ueber-uns" },
      { label: "F√ºr Psychotherapeuten", href: "/leistungen" },
      { label: "Blog", href: "/blog" },
    ],
  },
  {
    title: "Support",
    links: [
      { label: "Kontakt", href: EXTERNAL_LINKS.bookingCalendar },
      { label: "Workflow-Audit", href: EXTERNAL_LINKS.workflowAudit },
    ],
  },
  {
    title: "Rechtliches",
    links: [
      { label: "Impressum", href: "/rechtliches/impressum" },
      { label: "Datenschutz", href: "/rechtliches/datenschutz" },
    ],
  },
];
---

<footer class="bg-vrly-neutral-100 relative overflow-hidden">
  <Wrapper class="border-vrly-neutral-200 border-t py-12">
    <!-- Main Footer Content -->
    <div class="mb-12 grid grid-cols-1 gap-y-12 sm:grid-cols-2 lg:grid-cols-6">
      <!-- Company Info -->
      <div class="lg:col-span-2 lg:pr-8">
        <Logo class="text-vrly-blue-500 mb-4 size-12" />
        <Text
          tag="p"
          variant="textSM"
          class="text-vrly-slate-400 mb-4 max-w-sm"
        >
          VRLY automatisiert Effizienz mit K√ºnstlicher Intelligenz.
          Spezialisiert auf KI-gest√ºtzte Workflow-Automatisierung f√ºr
          Psychotherapeuten in Hannover.
        </Text>

        <!-- Contact Info -->
        <div class="text-vrly-slate-500 space-y-2 text-sm">
          <div class="flex items-center gap-2">
            <span>üìß</span>
            <a
              href={EXTERNAL_LINKS.email.link}
              class="hover:text-vrly-blue-600 transition-colors"
            >
              {EXTERNAL_LINKS.email.address}
            </a>
          </div>
          <div class="flex items-center gap-2">
            <span>üìû</span>
            <a
              href={EXTERNAL_LINKS.phone.link}
              class="hover:text-vrly-blue-600 transition-colors"
            >
              {EXTERNAL_LINKS.phone.display}
            </a>
          </div>
          <div class="flex items-center gap-2">
            <span>üìç</span>
            <span>Hannover, Niedersachsen</span>
          </div>
        </div>
      </div>

      <!-- Links Sections -->
      {
        links.map((section) => (
          <div class="before:bg-white">
            <div>
              <Text
                tag="h3"
                variant="textBase"
                class="text-vrly-slate-500 mb-4 font-semibold"
              >
                {section.title}
              </Text>
              <nav role="navigation">
                <ul role="list" class="space-y-3">
                  {section.links.map((link) => (
                    <li>
                      <Text
                        tag="a"
                        variant="textSM"
                        title={`Link zu ${link.label}`}
                        aria-label={link.label}
                        href={link.href}
                        class="text-vrly-slate-400 hover:text-vrly-blue-600 font-medium transition-colors duration-200"
                      >
                        {link.label}
                      </Text>
                    </li>
                  ))}
                </ul>
              </nav>
            </div>
          </div>
        ))
      }
    </div>

    <!-- CTA Section -->
    <div
      class="bg-vrly-blue-50 border-vrly-blue-200 mb-8 rounded-xl border p-6"
    >
      <div class="text-center">
        <Text
          tag="h3"
          variant="textLG"
          class="text-vrly-slate-500 mb-2 font-semibold"
        >
          Bereit f√ºr mehr Effizienz in Ihrer Praxis?
        </Text>
        <Text tag="p" variant="textSM" class="text-vrly-slate-400 mb-4">
          Vereinbaren Sie einen kostenlosen Workflow-Audit
        </Text>
        <a
          href={EXTERNAL_LINKS.bookingCalendar}
          class="bg-vrly-blue-500 hover:bg-vrly-blue-600 inline-flex items-center rounded-lg px-4 py-2 text-sm font-medium text-white transition-colors duration-200"
        >
          Jetzt Termin vereinbaren
        </a>
      </div>
    </div>

    <!-- Bottom Bar -->
    <div class="border-vrly-neutral-200 border-t pt-8">
      <div class="flex flex-col items-center justify-between gap-4 sm:flex-row">
        <Text
          id="year"
          tag="p"
          variant="textXS"
          class="text-vrly-slate-400 font-medium"
        >
          ¬© 2025 VRLY. Alle Rechte vorbehalten.
        </Text>

        <div class="text-vrly-slate-400 flex items-center gap-6 text-xs">
          <span class="flex items-center gap-1">
            <span>üîí</span>
            <span>DSGVO-konform</span>
          </span>
          <span class="flex items-center gap-1">
            <span>üè•</span>
            <span>F√ºr Psychotherapeuten</span>
          </span>
          <span class="flex items-center gap-1">
            <span>üìç</span>
            <span>Hannover</span>
          </span>
        </div>
      </div>
    </div>
  </Wrapper>
</footer>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const yearElement = document.getElementById("year");
    if (yearElement) {
      const currentYear = new Date().getFullYear();
      yearElement.textContent = `¬© ${currentYear} VRLY. Alle Rechte vorbehalten.`;
    }
  });
</script>
